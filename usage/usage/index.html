
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Python scripting for TVPaint">
      
      
      
        <link rel="canonical" href="https://brunchstudio.github.io/pytvpaint/usage/usage/">
      
      
        <link rel="prev" href="../../installation/">
      
      
        <link rel="next" href="../rendering/">
      
      
      <link rel="icon" href="../../assets/pytvpaint_logo.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.14">
    
    
      
        <title>Basics - PyTVPaint</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.10ba22f1.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="custom" data-md-color-accent="custom">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#usage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="PyTVPaint" class="md-header__button md-logo" aria-label="PyTVPaint" data-md-component="logo">
      
  <img src="../../assets/pytvpaint_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            PyTVPaint
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Basics
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/brunchstudio/pytvpaint" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    brunchstudio/pytvpaint
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../.." class="md-tabs__link">
          
  
  Get Started

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../cpp/" class="md-tabs__link">
          
  
  C++ plugin

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../api/objects/project/" class="md-tabs__link">
          
  
  Python API Documentation

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="PyTVPaint" class="md-nav__button md-logo" aria-label="PyTVPaint" data-md-component="logo">
      
  <img src="../../assets/pytvpaint_logo.png" alt="logo">

    </a>
    PyTVPaint
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/brunchstudio/pytvpaint" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    brunchstudio/pytvpaint
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" checked>
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Get Started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Get Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Welcome to PyTVPaint
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../installation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" checked>
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Usage
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Usage
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Basics
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Basics
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-client-connection" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic client connection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-oriented-api" class="md-nav__link">
    <span class="md-ellipsis">
      Object-oriented API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Object-oriented API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-the-current-data-in-tvpaint" class="md-nav__link">
    <span class="md-ellipsis">
      Getting the current data in TVPaint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structure" class="md-nav__link">
    <span class="md-ellipsis">
      Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generators" class="md-nav__link">
    <span class="md-ellipsis">
      Generators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-refreshing" class="md-nav__link">
    <span class="md-ellipsis">
      Data refreshing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid-and-removable-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Invalid and removable objects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Utilities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#undoable" class="md-nav__link">
    <span class="md-ellipsis">
      Undoable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rendering-contexts" class="md-nav__link">
    <span class="md-ellipsis">
      Rendering Contexts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rendering Contexts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#render_context" class="md-nav__link">
    <span class="md-ellipsis">
      render_context
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore_current_frame" class="md-nav__link">
    <span class="md-ellipsis">
      restore_current_frame
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#george-functions" class="md-nav__link">
    <span class="md-ellipsis">
      George functions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../rendering/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rendering
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../limitations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Limitations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/developer_setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Developer setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/internals/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Internals
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/wrap_george/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Wrapping George commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/modify_objects/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modifying high-level classes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../credits/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Credits
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++ plugin
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            C++ plugin
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cpp/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../cpp/building/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Building
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Python API Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Python API Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
        
          
          <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    API
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_1">
            <span class="md-nav__icon md-icon"></span>
            API
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/project_sound/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ProjectSound
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/scene/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scene
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/clip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clip
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/clip_sound/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ClipSound
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/layer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Layer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/layer_instance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LayerInstance
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/layer_color/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LayerColor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/objects/camera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Camera
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    George
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            George
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/george/project/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/george/scene/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scene
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/george/clip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clip
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/george/layer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Layer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/george/camera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Camera
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/george/misc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Misc
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/george/exceptions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Exceptions
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Client
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Client
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/client/communication/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Communication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/client/rpc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JSON-RPC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/client/parsing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parsing
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../api/utils/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utils
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Environment variables
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-client-connection" class="md-nav__link">
    <span class="md-ellipsis">
      Automatic client connection
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#object-oriented-api" class="md-nav__link">
    <span class="md-ellipsis">
      Object-oriented API
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Object-oriented API">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#getting-the-current-data-in-tvpaint" class="md-nav__link">
    <span class="md-ellipsis">
      Getting the current data in TVPaint
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#structure" class="md-nav__link">
    <span class="md-ellipsis">
      Structure
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#generators" class="md-nav__link">
    <span class="md-ellipsis">
      Generators
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#data-refreshing" class="md-nav__link">
    <span class="md-ellipsis">
      Data refreshing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invalid-and-removable-objects" class="md-nav__link">
    <span class="md-ellipsis">
      Invalid and removable objects
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utilities" class="md-nav__link">
    <span class="md-ellipsis">
      Utilities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Utilities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#undoable" class="md-nav__link">
    <span class="md-ellipsis">
      Undoable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rendering-contexts" class="md-nav__link">
    <span class="md-ellipsis">
      Rendering Contexts
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Rendering Contexts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#render_context" class="md-nav__link">
    <span class="md-ellipsis">
      render_context
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore_current_frame" class="md-nav__link">
    <span class="md-ellipsis">
      restore_current_frame
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#george-functions" class="md-nav__link">
    <span class="md-ellipsis">
      George functions
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="usage">Usage<a class="headerlink" href="#usage" title="Permanent link">&para;</a></h1>
<p>PyTVPaint offers <strong>two ways</strong> to interact with TVPaint.</p>
<p>The recommended one is to use the <a href="#object-oriented-api"><strong>object-oriented API</strong></a> which handles all the nitty-gritty details of George
and provides an extra layer of features. The classes can be imported from <code>pytvpaint.*</code></p>
<p>The other way is to use the <a href="#george-functions"><strong>wrapped George functions</strong></a> in Python which behave almost exactly as
their George counterparts. These can be imported from <code>pytvpaint.george.*</code>.</p>
<h2 id="environment-variables">Environment variables<a class="headerlink" href="#environment-variables" title="Permanent link">&para;</a></h2>
<p>PyTVPaint can be configured using these variables:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Name</th>
<th style="text-align: left;">Default value</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><code>PYTVPAINT_LOG_LEVEL</code></td>
<td style="text-align: left;"><code>INFO</code></td>
<td style="text-align: left;">Changes the log level of PyTVPaint. Use the <code>DEBUG</code> value to see the RPC requests and responses for debugging George commands.</td>
</tr>
<tr>
<td style="text-align: left;"><code>PYTVPAINT_WS_HOST</code></td>
<td style="text-align: left;"><code>ws://localhost</code></td>
<td style="text-align: left;">The hostname of the RPC over WebSocket server (<a href="https://github.com/brunchstudio/tvpaint-rpc">tvpaint-rpc</a> plugin).</td>
</tr>
<tr>
<td style="text-align: left;"><code>PYTVPAINT_WS_PORT</code></td>
<td style="text-align: left;"><code>3000</code></td>
<td style="text-align: left;">The port of the RPC over WebSocket server (<a href="https://github.com/brunchstudio/tvpaint-rpc">tvpaint-rpc</a> plugin).</td>
</tr>
<tr>
<td style="text-align: left;"><code>PYTVPAINT_WS_STARTUP_CONNECT</code></td>
<td style="text-align: left;"><code>1</code></td>
<td style="text-align: left;">Whether or not PyTVPaint should automatically connect to the WebSocket server at startup (module import). Accepts 0 or 1.</td>
</tr>
<tr>
<td style="text-align: left;"><code>PYTVPAINT_WS_TIMEOUT</code></td>
<td style="text-align: left;"><code>60</code> seconds</td>
<td style="text-align: left;">The timeout after which we stop reconnecting at startup or if the connection was lost.</td>
</tr>
</tbody>
</table>
<h2 id="automatic-client-connection">Automatic client connection<a class="headerlink" href="#automatic-client-connection" title="Permanent link">&para;</a></h2>
<p>When you first import <code>pytvpaint</code>, a WebSocket client is automatically created and tries to connect to the server run by the <a href="../../installation/">C++ plugin you installed</a>.</p>
<p>For example in an interactive Python shell:</p>
<div class="highlight"><pre><span></span><code><span class="go">&gt;&gt;&gt; from pytvpaint.layer import Layer</span>
<span class="go">[2024-02-26 12:39:00,634] pytvpaint / INFO -- Connected to TVPaint on port 3000</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Set the <code>PYTVPAINT_LOG_LEVEL</code> environment variable to <code>INFO</code> to see the log above.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can disable this automatic behavior by setting the <code>PYTVPAINT_WS_STARTUP_CONNECT</code> variable to <code>0</code>.</p>
</div>
<h2 id="object-oriented-api">Object-oriented API<a class="headerlink" href="#object-oriented-api" title="Permanent link">&para;</a></h2>
<p>PyTVPaint provides an object-oriented API that handles the George calls behind the scenes. Most objects in TVPaint have
their own implementation (<code>Project</code>, <code>Scene</code>, <code>Clip</code>, <code>Layer</code>...).</p>
<h3 id="getting-the-current-data-in-tvpaint">Getting the current data in TVPaint<a class="headerlink" href="#getting-the-current-data-in-tvpaint" title="Permanent link">&para;</a></h3>
<p>Most of the classes provide a way to get the <strong>current</strong> element in TVPaint because the current state of the open
TVPaint instance matters when querying data from TVPaint.</p>
<p>For example to get the current clip:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint.clip</span> <span class="kn">import</span> <span class="n">Clip</span>

<span class="n">clip</span> <span class="o">=</span> <span class="n">Clip</span><span class="o">.</span><span class="n">current_clip</span><span class="p">()</span>

<span class="c1"># You can also get the current layer</span>
<span class="n">layer</span> <span class="o">=</span> <span class="n">clip</span><span class="o">.</span><span class="n">current_layer</span>
</code></pre></div>
<h3 id="structure">Structure<a class="headerlink" href="#structure" title="Permanent link">&para;</a></h3>
<p>The API follows the structure of TVPaint projects in this order: <code>Project -&gt; Scene -&gt; Clip -&gt; Layer</code>.</p>
<p>In practice you can do this:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint</span> <span class="kn">import</span> <span class="n">Project</span>

<span class="n">project</span> <span class="o">=</span> <span class="n">Project</span><span class="o">.</span><span class="n">current_project</span><span class="p">()</span>

<span class="k">for</span> <span class="n">scene</span> <span class="ow">in</span> <span class="n">project</span><span class="o">.</span><span class="n">scenes</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">clip</span> <span class="ow">in</span> <span class="n">scene</span><span class="o">.</span><span class="n">clips</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">clip</span><span class="o">.</span><span class="n">layers</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">layer</span><span class="p">)</span>
</code></pre></div>
<h3 id="generators">Generators<a class="headerlink" href="#generators" title="Permanent link">&para;</a></h3>
<p>Since George commands are time expensive to run, most of the properties that returns objects are in fact generators of objects.</p>
<p>For example:</p>
<div class="highlight"><pre><span></span><code><span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">clip</span><span class="o">.</span><span class="n">layers</span><span class="p">:</span>
    <span class="c1"># Do something with layer, consumes it</span>

<span class="c1"># To get the list of layers you need to consume the whole generator</span>
<span class="n">layers</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">clip</span><span class="o">.</span><span class="n">layers</span><span class="p">)</span>
</code></pre></div>
<h3 id="data-refreshing">Data refreshing<a class="headerlink" href="#data-refreshing" title="Permanent link">&para;</a></h3>
<p>To keep an up-to-date state of the objects in TVPaint (since changes can happen through both the code and the UI),
The library "refreshes" the objects any time a property or method is called by querying TVPaint before running some commands.
This sometime means jumping from element to element (projects, clips, etc...) in the UI.</p>
<p>For example getting the project path:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint</span> <span class="kn">import</span> <span class="n">Layer</span>

<span class="n">layer</span> <span class="o">=</span> <span class="n">Layer</span><span class="o">.</span><span class="n">current_layer</span><span class="p">()</span>

<span class="c1"># Gets the layer name</span>
<span class="n">layer_name</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">name</span>

<span class="c1"># The user changes the layer name in the interface...</span>

<span class="c1"># The name property gives the right value</span>
<span class="n">refreshed_name</span> <span class="o">=</span> <span class="n">layer</span><span class="o">.</span><span class="n">name</span>
</code></pre></div>
<h3 id="invalid-and-removable-objects">Invalid and removable objects<a class="headerlink" href="#invalid-and-removable-objects" title="Permanent link">&para;</a></h3>
<p>Another issue we are facing is that if you have a Python object instance representing a layer and you remove that layer in TVPaint, then the Python object is no longer <em>valid</em>.
Another issue we are facing is objet deletions. Let's say you have a Python <code>Layer</code> object, and you remove it in the TVPaint UI,
that the Python object is no longer <em>valid</em>.</p>
<p>There's two ways an object can be considered invalid:</p>
<ol>
<li>The programmer explicitly removed the object by calling the <code>.remove()</code> method.</li>
<li>The object itself was removed from the TVPaint interface.</li>
</ol>
<p>In this example we remove a layer and try to access it afterward:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint</span> <span class="kn">import</span> <span class="n">Layer</span>

<span class="n">layer</span> <span class="o">=</span> <span class="n">Layer</span><span class="o">.</span><span class="n">current_layer</span><span class="p">()</span>
<span class="n">layer</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

<span class="c1"># Will raise a ValueError: Layer has been removed!</span>
<span class="nb">print</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
<p>This is the same if we close the project containing the layer:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint</span> <span class="kn">import</span> <span class="n">Project</span>

<span class="n">project</span> <span class="o">=</span> <span class="n">Project</span><span class="o">.</span><span class="n">current_project</span><span class="p">()</span>
<span class="n">layer</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">current_clip</span><span class="o">.</span><span class="n">current_layer</span>

<span class="n">project</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

<span class="c1"># Will raise an error when we try to access properties</span>
<span class="nb">print</span><span class="p">(</span><span class="n">layer</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
</code></pre></div>
<h2 id="utilities">Utilities<a class="headerlink" href="#utilities" title="Permanent link">&para;</a></h2>
<h3 id="undoable">Undoable<a class="headerlink" href="#undoable" title="Permanent link">&para;</a></h3>
<p>In George, you can manage the undo/redo stack with the <a href="../../api/george/misc/#pytvpaint.george.grg_base.tv_undo_open_stack"><code>tv_undoopenstack</code></a> and <a href="../../api/george/misc/#pytvpaint.george.grg_base.tv_undo_close_stack"><code>tv_undoclosestack</code></a> functions.</p>
<p>In order to facilitate this process, we provide :</p>
<ul>
<li>the <a href="../../api/george/misc/#pytvpaint.george.grg_base.undoable"><code>undoable</code></a> decorator</li>
<li>the <a href="../../api/george/misc/#pytvpaint.george.grg_base.undoable_stack"><code>undoable_stack</code></a> context manager.</li>
</ul>
<p>Undo a whole function:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint</span> <span class="kn">import</span> <span class="n">george</span>


<span class="nd">@george</span><span class="o">.</span><span class="n">undoable</span>
<span class="k">def</span> <span class="nf">some_george_actions</span><span class="p">():</span>
    <span class="n">george</span><span class="o">.</span><span class="n">tv_bookmark_clear</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">george</span><span class="o">.</span><span class="n">tv_background_set</span><span class="p">(</span><span class="n">george</span><span class="o">.</span><span class="n">BackgroundMode</span><span class="o">.</span><span class="n">NONE</span><span class="p">)</span>
</code></pre></div>
<p>Or only register some operations:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint</span> <span class="kn">import</span> <span class="n">george</span>
<span class="kn">from</span> <span class="nn">pytvpaint.project</span> <span class="kn">import</span> <span class="n">Project</span>


<span class="k">def</span> <span class="nf">some_george_actions</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">george</span><span class="o">.</span><span class="n">undoable_stack</span><span class="p">():</span>
        <span class="n">p</span> <span class="o">=</span> <span class="n">Project</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="s2">&quot;./project.tvpp&quot;</span><span class="p">)</span>
        <span class="n">p</span><span class="o">.</span><span class="n">start_frame</span> <span class="o">=</span> <span class="mi">67</span>

    <span class="n">p</span><span class="o">.</span><span class="n">add_sound</span><span class="p">(</span><span class="s2">&quot;test.wav&quot;</span><span class="p">)</span>
</code></pre></div>
<h3 id="rendering-contexts">Rendering Contexts<a class="headerlink" href="#rendering-contexts" title="Permanent link">&para;</a></h3>
<p>TVPaint's rendering functions do not provided an easy way to set render settings, you are expected to set
these yourself and restore them to their previous values when done.
PyTVPaint provides two helpful context functions to make this easier:</p>
<ul>
<li>the <a href="../../api/utils/#pytvpaint.utils.render_context"><code>render_context</code></a> context manager.</li>
<li>the <a href="../../api/utils/#pytvpaint.utils.restore_current_frame"><code>restore_current_frame</code></a> context manager.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Our <code>Clip.render</code> and <code>Project.render</code> functions already use these contexts so you don't have to.</p>
</div>
<h4 id="render_context"><code>render_context</code><a class="headerlink" href="#render_context" title="Permanent link">&para;</a></h4>
<p>Using <code>render_context</code> will :</p>
<ul>
<li>Set the alpha mode and save format (with custom options)</li>
<li>Hide / Show the given layers (some render functions only render by visibility)</li>
<li>Restore the previous values after rendering</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint.utils</span> <span class="kn">import</span> <span class="n">render_context</span>

<span class="k">with</span> <span class="n">render_context</span><span class="p">(</span>
    <span class="n">alpha_mode</span><span class="p">,</span>
    <span class="n">background_mode</span><span class="p">,</span>
    <span class="n">save_format</span><span class="p">,</span>
    <span class="n">format_opts</span><span class="p">,</span>
    <span class="n">layer_selection</span><span class="o">=</span><span class="p">[</span><span class="n">my_layer</span><span class="p">],</span>
<span class="p">):</span>
    <span class="n">george</span><span class="o">.</span><span class="n">tv_save_image</span><span class="p">(</span><span class="n">export_path</span><span class="p">)</span>
</code></pre></div>
<h4 id="restore_current_frame"><code>restore_current_frame</code><a class="headerlink" href="#restore_current_frame" title="Permanent link">&para;</a></h4>
<p>Context that temporarily changes the current frame to the one provided and restores it when done.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">pytvpaint.utils</span> <span class="kn">import</span> <span class="n">restore_current_frame</span>

<span class="k">with</span> <span class="n">restore_current_frame</span><span class="p">(</span><span class="n">my_clip</span><span class="p">,</span> <span class="n">my_render_frame</span><span class="p">):</span>
    <span class="n">george</span><span class="o">.</span><span class="n">tv_save_display</span><span class="p">(</span><span class="n">export_path</span><span class="p">)</span>
</code></pre></div>
<h2 id="george-functions">George functions<a class="headerlink" href="#george-functions" title="Permanent link">&para;</a></h2>
<p>The George functions are implemented in the <a href="../../api/george/project/"><code>pytvpaint.george</code></a> module, sorted by the type of TVPaint element they operate on.</p>
<p>The idea is to map these closely the real George functions documented <a href="https://www.tvpaint.com/doc/tvpaint-animation-11/george-commands">here</a> (parameters, return types, enum values...).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not all George functions are implemented in the library for now. Some are quite complicated to "translate" but
others are trivial. For now we only implemented the functions that suit our needs in our pipeline. Feel free to
make a PR or write an issue on Github if you want to contribute !</p>
</div>
<p>Here is an example of how you can use the basic/wrapped George functions:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Handy because you have access to all the functions within a single module</span>
<span class="kn">from</span> <span class="nn">pytvpaint</span> <span class="kn">import</span> <span class="n">george</span>

<span class="n">current_layer_id</span> <span class="o">=</span> <span class="n">george</span><span class="o">.</span><span class="n">tv_layer_current_id</span><span class="p">()</span>
<span class="n">george</span><span class="o">.</span><span class="n">tv_layer_anim</span><span class="p">(</span><span class="n">current_layer_id</span><span class="p">)</span>

<span class="c1"># All the _info functions return a dataclass containing the returned values (here TVPLayer)</span>
<span class="n">name</span> <span class="o">=</span> <span class="n">george</span><span class="o">.</span><span class="n">tv_layer_info</span><span class="p">(</span><span class="n">current_layer_id</span><span class="p">)</span><span class="o">.</span><span class="n">name</span>

<span class="n">george</span><span class="o">.</span><span class="n">tv_layer_rename</span><span class="p">(</span><span class="n">current_layer_id</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2">_anim_layer&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="admonition success">
<p class="admonition-title">Success</p>
<p>And that's it! No more <code>PARSE result</code> in George and everything is type-hinted and documented!
We still recommend using the high level API though, if you found that something is missing, please open an issue!</p>
</div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-meta__inner" style="padding: 0px 20px">
  <div style="display: flex; align-items: center; gap: 20px; margin: 15px 0px">
    <span class="md-copyright__highlight" style="font-size: 0.64rem"
      >Made with ❤️ at</span
    >

    <a
      href="https://brunchstudio.tv/"
      target="_blank"
      rel="noopener noreferrer"
      style="display: flex; justify-content: center; align-items: center"
    >
      <img src="/pytvpaint/assets/logo_brunch_white.svg" width="100" />
    </a>
  </div>
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "content.tabs.link", "content.code.copy", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.bd41221c.min.js"></script>
      
    
  </body>
</html>